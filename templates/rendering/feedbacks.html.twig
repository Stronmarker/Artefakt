{% extends 'base.logged.html.twig' %}

{% block title %}Feedbacks - {{ rendering.renderingName }}{% endblock %}

{% block body %}
<div class="container mt-4">
    <a href="{{ path('rendering_show', {'project_id': rendering.project.id, 'rendering_id': rendering.id}) }}" class="btn btn-secondary btn-sm mb-3">Retour au rendu</a>
    <h3>Feedbacks pour le rendu : {{ rendering.renderingName }}</h3>

    <table class="table table-bordered mt-3 box-shadow rounded">
        <thead>
            <tr>
                <th>Date</th>
                <th>Statut</th>
                <th>Commentaire</th>
            </tr>
        </thead>
        <tbody>
            {% for feedback in feedbacks %}
                <tr>
                    <td>{{ feedback.createdAt|date('d/m/Y H:i') }}</td>
                    <td>
                        {% if feedback.isAccepted %}
                            <span class="badge bg-success">Accepté</span>
                        {% else %}
                            <span class="badge bg-danger">Rejeté</span>
                        {% endif %}
                    </td>
                    <td>{{ feedback.comment ? feedback.comment : 'Aucun commentaire' }}</td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="3" class="text-center">Aucun feedback pour ce rendu.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
